{"version":3,"sources":["api/record/record.controller.js"],"names":[],"mappings":"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","file":"api/record/record.controller.js","sourcesContent":["/**\n * Using Rails-like standard naming convention for endpoints.\n * GET     /api/records              ->  index\n * POST    /api/records              ->  create\n * GET     /api/records/:id          ->  show\n * PUT     /api/records/:id          ->  update\n * DELETE  /api/records/:id          ->  destroy\n */\n\n'use strict';\n\nimport _ from 'lodash';\nimport Record from './record.model';\nvar Schm = require('../schm/schm.controller');\nimport q from 'q';\nfunction respondWithResult(res, statusCode) {\n  statusCode = statusCode || 200;\n  return function(entity) {\n    if (entity) {\n      res.status(statusCode).json(entity);\n    }\n  };\n}\n\nfunction saveUpdates(updates) {\n  return function(entity) {\n    var updated = _.extend(entity, updates);\n    return updated.save()\n      .then(updated => {\n        return updated;\n      });\n  };\n}\n\nfunction removeEntity(res) {\n  return function(entity) {\n    if (entity) {\n      return entity.remove()\n        .then(() => {\n          res.status(204).end();\n        });\n    }\n  };\n}\n\nfunction handleEntityNotFound(res) {\n  return function(entity) {\n    if (!entity) {\n      res.status(404).end();\n      return null;\n    }\n    return entity;\n  };\n}\n\nfunction handleError(res, statusCode) {\n  statusCode = statusCode || 500;\n  return function(err) {\n    res.status(statusCode).send(err);\n  };\n}\n\nfunction checkParam(param, dataType) {\n\n  if(param === null){ return false; }\n  var response = false;\n  \n  if(dataType === 'string'){\n    if(typeof param === 'string' && param.length>0){\n      response = true;\n    }\n  }\n\n  if(dataType === 'number'){\n    //console.log('chequea numero')\n    if(typeof param === 'number'){\n      response = true;\n    }\n    if(typeof param === 'string'){\n      \n      if(/^\\d*$/.test( param )){\n        //console.log('es  numero')\n        response = true;\n      }\n    }\n  }\n\n  if(dataType === 'objectId'){\n    if(/^[0-9a-f]{24}$/i.test(param)){\n      response = true;\n    }\n  }\n\n  //filtro de registros\n  if (dataType === 'filter') {\n    //checkeando si hay errores en el parseo a JSON\n    try {\n      var arr = JSON.parse(param);\n      //check if is an Array and if is empty\n      if(arr.length){\n        // verificando si los obj dentro del array tiene las propiedades key, datatype y value\n        var isValid = true;\n        for (var index = 0; index < arr.length; index++) {\n          if(arr[index].key === null || arr[index].value === null || arr[index].datatype === null){\n            isValid = false;\n          }\n        }\n        response = isValid;\n      }\n\n    } catch (err) {\n      response = false;\n      console.log('invalid JSON')\n    }\n  }\n\n  return response;\n}\n\n// Gets a list of Records\nexport function index(req, res) {\n\n  var items = req.query.items || 30;\n  var page = req.query.page || 1;\n  // checking the query data types\n  if(!checkParam(page, 'number') || page === \"0\" ){\n    return respondWithResult(res, 500)({Error:'El parámetro page no es válido'});\n  }\n  if(!checkParam(items, 'number') ){\n    return respondWithResult(res, 500)({Error:'El parámetro items no es válido'});\n  }\n  \n  var query = {};\n  //filtrar por schm\n  if(checkParam(req.query.schm, 'objectId')){\n    query.schm = req.query.schm;\n    //console.log('schm')\n  }\n  // populate by attr objectId\n  if(checkParam(req.query.populate, 'objectId')){\n    //query.populate = req.query.populate;\n    //console.log('schm')\n  }\n  if(checkParam(req.query.filter, 'filter')){\n    query[\"$and\"] = [];\n    \n    var filter = JSON.parse(req.query.filter);\n    for (var i = 0; i < filter.length; i++) {\n      var p = {attributes:{}};\n      p[\"attributes\"][\"$elemMatch\"] = {};\n      p[\"attributes\"][\"$elemMatch\"]['id'] = filter[i].key;\n      p[\"attributes\"][\"$elemMatch\"][filter[i].datatype] = filter[i].value;\n      query[\"$and\"].push(p);\n    }\n    //console.log(filter);\n  }\n  var qAllArr = [\n    Record.find(query).count().exec(),\n    Record.find(query).sort({created: -1}).skip(items*(page-1)).limit(items),\n  ]\n  if(query.schm){\n    qAllArr.push(Schm.fullSchm(query.schm))\n  }\n  q.all(qAllArr).spread( (count, data, schema) =>{\n    return {\n        page:parseInt(page),\n        pages:Math.ceil(count/items),\n        length: data.length,\n        totalLength: count,\n        schema:schema,\n        items:data\n      }\n  })\n  .then(x=>{\n    if(checkParam(req.query.populate, 'objectId')){\n      return PopulateByAttr(x,req.query.populate);\n    }\n    return x;\n  })\n  .then(x=>{\n    if(x.schemaPopulated){\n      return Schm.fullSchm(x.schemaPopulated).then(s=>{\n        x.schemaPopulated = s;\n        return x;\n      })\n    }else{\n      return x;\n    }\n  })\n  .then(x=>respondWithResult(res)(x))\n  .fail(handleError(res));\n\n  function PopulateByAttr(res, attrId){\n    res.itemsPopulated = res.items.map(x=>{\n      return x.attributes.filter(x=>x.id===attrId).map(x=>x.reference)\n    }).map(x=>{\n      if(x.length){\n        return x[0]\n      }else{\n        return null;\n      }\n    }).filter(x=>x);\n    var popQuery = {\"$or\":[]};\n    for (var q = 0; q < res.itemsPopulated.length; q++) {\n      popQuery.$or.push({_id:res.itemsPopulated[q]})      \n    }\n\n    return Record.find(popQuery).exec().then(x=>{\n      if(x.length){\n        res.schemaPopulated = x[0].schm;\n      }\n      res.itemsPopulated = x;\n      return res;\n    })\n    //filtrar la referencia del \n  }\n}\n\n// Gets a single Record from the DB\nexport function show(req, res) {\n  //si schm, key y datatype estan presentes, el id será tomado como el valor del atributo y no como _id\n  var query;\n  if(\n      checkParam(req.query.schm, 'objectId') && \n      checkParam(req.query.key, 'objectId') && \n      checkParam(req.query.datatype, 'string')\n    )\n  {\n    query = {schm:req.query.schm, attributes:{}}\n    query.attributes[\"$elemMatch\"]={};\n    query.attributes[\"$elemMatch\"][\"id\"]=req.query.key;\n    query.attributes[\"$elemMatch\"][req.query.datatype]=req.params.id;\n  }\n  else\n  {\n    query = req.params.id;\n  }\n\n  return q.fcall(x=>query)\n    .then(function(res){\n        if(typeof res === 'string'){\n          return Record.findById(res);\n        }else{\n          return Record.find(query);\n        }\n    })\n    .then(function(res){\n        if(Array.isArray(res)){\n          return Schm.fullSchm(req.query.schm)\n            .then(function(schm){\n              return {\n                length:res.length,\n                schema:schm,\n                record:res[0]\n              }\n            })\n        }else{\n          return Schm.fullSchm(res.schm)\n            .then(function(schm){\n              return{\n                schema:schm,\n                record:res\n              }\n            })\n        }\n    })\n    .then(respondWithResult(res))\n    .catch(handleError(res))\n    .done(function(a){ console.log(\"DONE \"+a)});\n}\n\n// Creates a new Record in the DB\nexport function create(req, res) {\n  return Record.create(req.body)\n    .then(respondWithResult(res, 201))\n    .catch(handleError(res));\n}\n\n// Updates an existing Record in the DB\nexport function update(req, res) {\n  if (req.body._id) {\n    delete req.body._id;\n  }\n  return Record.findById(req.params.id).exec()\n    .then(handleEntityNotFound(res))\n    .then(saveUpdates(req.body))\n    .then(respondWithResult(res))\n    .catch(handleError(res));\n}\n\n// Deletes a Record from the DB\nexport function destroy(req, res) {\n  return Record.findById(req.params.id).exec()\n    .then(handleEntityNotFound(res))\n    .then(removeEntity(res))\n    .catch(handleError(res));\n}\n"],"sourceRoot":"/source/"}